Frontend → Vercel
- Env: VITE_API_BASE_URL=https://<api>.railway.app
- Build: npm ci && npm run build
- Output: frontend/dist
- Config: vercel.json

Backend/Worker → Railway
- Project ID: 2ec0f5d8-2c7a-42a7-a78c-4168138e03e9
- API start: uvicorn backend.main:app --host 0.0.0.0 --port $PORT (Procfile: web)
- Worker start: dramatiq backend.worker (Procfile: worker)
- Config: railway.json, nixpacks.toml, Procfile
- Link: railway link -p 2ec0f5d8-2c7a-42a7-a78c-4168138e03e9

Railway Services (2 services needed)
- Service 1: api (web process)
- Service 2: worker (worker process)
- Add PostgreSQL database
- Add Redis database

Env (Railway - both services)
- DATABASE_URL=${{Postgres.DATABASE_URL}}
- REDIS_URL=${{Redis.REDIS_URL}}
- RETELL_API_KEY=...
- RETELL_WEBHOOK_SECRET=...
- DEFAULT_FROM_NUMBER=+1202...
- JWT_SECRET=...
- FRONTEND_ORIGIN=https://<frontend>.vercel.app
- ADMIN_EMAILS=giacomo.cavalcabo14@gmail.com
- R2_ACCOUNT_ID=...
- R2_ACCESS_KEY_ID=...
- R2_SECRET_ACCESS_KEY=...
- R2_BUCKET=...

Env (Vercel)
- VITE_API_BASE_URL=https://<api>.railway.app

Retell Webhook
- https://<api>.railway.app/webhooks/retell

Migration
- railway run -s api alembic upgrade head

Acceptance
- /health 200
- Leads → call → webhook → DB
- Dashboard live via WS
- /admin/overview protetto (X-Admin-Email)
